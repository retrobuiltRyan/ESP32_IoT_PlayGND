//05_esp32_iot_playgnd_rgb_led_pushbuttons

#include <Adafruit_NeoPixel.h>

#define LED_PIN    4
#define LED_COUNT  4

// Button pin definitions (renamed to A, B, C, D)
#define BUTTON_A   27 
#define BUTTON_B   26   
#define BUTTON_C   25   
#define BUTTON_D   33  

Adafruit_NeoPixel strip(LED_COUNT, LED_PIN, NEO_GRB + NEO_KHZ800);

void setup() {
  strip.begin();
  strip.setBrightness(20);
  strip.show();
   Serial.begin(115200);
// In loop:


  // Configure button pins as input with internal pull-up resistors
  pinMode(BUTTON_A, INPUT);
  pinMode(BUTTON_B, INPUT);
  pinMode(BUTTON_C, INPUT);
  pinMode(BUTTON_D, INPUT);
}

void loop() {
  // Set all pixels to red (standby)
  for (int i = 0; i < LED_COUNT; i++) {
    strip.setPixelColor(i, strip.Color(255, 0, 0)); // Red
  }

  // Check buttons and change corresponding pixel to green
  if (digitalRead(BUTTON_A) == LOW) strip.setPixelColor(0, strip.Color(0, 255, 0)); // A -> Pixel 0
  if (digitalRead(BUTTON_B) == LOW) strip.setPixelColor(1, strip.Color(0, 255, 0)); // B -> Pixel 1
  if (digitalRead(BUTTON_C) == LOW) strip.setPixelColor(2, strip.Color(0, 255, 0)); // C -> Pixel 2
  if (digitalRead(BUTTON_D) == LOW) strip.setPixelColor(3, strip.Color(0, 255, 0)); // D -> Pixel 3

  strip.show();
  delay(50); // Short delay for button debounce
  Serial.println(digitalRead(BUTTON_C));
}
